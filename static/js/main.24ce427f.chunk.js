(this["webpackJsonpposts-app"]=this["webpackJsonpposts-app"]||[]).push([[0],{44:function(e,t,c){},47:function(e,t,c){},54:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(27),r=c.n(a),o=c(9),i=(c(44),c(5)),l=c(35),u=c(72),j=(c(47),c(1)),b=function(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)(o.b,{to:"/",className:"header__link",children:"Posts Application"}),Object(j.jsxs)(o.b,{to:"/create-post",children:[Object(j.jsx)(u.a,{outline:!0,color:"primary",className:"addPost-button",children:"Add Post"})," "]})]})})},p=(c(54),function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{className:"footer__container",children:"FOOTER"})})}),d=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(b,{}),Object(j.jsx)("div",{className:"container",children:e.children})]}),Object(j.jsx)(p,{})]})},h=c(30),O=c(6),m=c.n(O),f=c(19),x=c(18),_=c(15),v=c(20),g=c(73),y=c(74),N=c(75),k=c(76),S=c(77),C=c(78),w=c(79),T=c(80),P=c(81),B=c(82),E=c(83),z=c(84),F=(c(57),function(e){var t=e.post;return console.log(t),Object(j.jsxs)("div",{className:"post__share-social",children:[Object(j.jsx)(g.a,{className:"post__social-buttons",url:"http://zhulym.github.io/posts-app",quote:t.title,hashtag:"#".concat(t.city),children:Object(j.jsx)(y.a,{className:"post__social-icon",size:32,round:!0})}),Object(j.jsx)(N.a,{url:"http://zhulym.github.io/posts-app",className:"post__social-buttons",title:t.title,children:Object(j.jsx)(k.a,{className:"post__social-icon",size:32,round:!0})}),Object(j.jsx)(S.a,{url:"http://zhulym.github.io/posts-app",className:"post__social-buttons",title:t.title,image:"https://farm66.staticflickr.com/".concat(t.server,"/").concat(t.imageId,"_").concat(t.secret,".jpg"),children:Object(j.jsx)(C.a,{size:32,className:"post__social-icon",round:!0})}),Object(j.jsx)(w.a,{url:"http://zhulym.github.io/posts-app",className:"post__social-buttons",title:t.title,children:Object(j.jsx)(T.a,{size:32,className:"post__social-icon",round:!0})}),Object(j.jsx)(P.a,{url:"http://zhulym.github.io/posts-app",className:"post__social-buttons",title:t.title,children:Object(j.jsx)(B.a,{size:32,className:"post__social-icon",round:!0})}),Object(j.jsx)(E.a,{className:"post__social-buttons",url:"http://zhulym.github.io/posts-app",title:t.title,summary:t.name,source:"http://zhulym.github.io/posts-app",children:Object(j.jsx)(z.a,{size:32,className:"post__social-icon",round:!0})})]})}),L=(c(58),function(e){var t=e.post,c=Object(s.useState)(""),n=Object(_.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){var e,t,c=(t=1629015907322,(e=1229015907322)+Math.random()*(t-e));r(new Date(c).toLocaleString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",year:"numeric",month:"short",day:"numeric"}))}),[]),Object(j.jsxs)("div",{className:"post__content",children:[Object(j.jsxs)("div",{className:"post__user",children:[Object(j.jsx)("img",{src:"https://farm66.staticflickr.com/".concat(t.server,"/").concat(t.imageId,"_").concat(t.secret,".jpg"),alt:t.owner}),Object(j.jsx)("span",{className:"post__user-name",children:t.name})]}),Object(j.jsxs)("div",{className:"post__title",children:[Object(j.jsxs)(o.b,{className:"post__link",to:"/post/".concat(t.id),children:[t.id,". ",t.title[0].toUpperCase()+t.title.slice(1),Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"post__read-more",children:"Reed more..."})]},t.id),Object(j.jsxs)("span",{className:"post__date",children:[a,","]}),Object(j.jsx)("span",{className:"post__user-city",children:t.address.city})]}),Object(j.jsx)(F,{post:t})]})}),V=(c(59),function(e){var t=e.children,c=e.showModal,s=e.setShowModalCallBack;return Object(j.jsx)("div",{className:c?"modal active":"modal",onClick:function(){return s(!1)},children:Object(j.jsx)("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()},children:t})})}),D=function(){var e=Object(x.a)(m.a.mark((function e(t){var c,s,n,a,r,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"GET",s=o.length>2&&void 0!==o[2]?o[2]:{},n=o.length>3&&void 0!==o[3]?o[3]:{},a={method:c,headers:Object(f.a)({},n)},"POST"!==c&&"PUT"!==c||(a.body=JSON.stringify(s)),e.next=7,fetch(t,a);case 7:if(r=e.sent,!r.headers.get("Content-Type").includes("application/json")){e.next=13;break}return e.next=12,r.json();case 12:return e.abrupt("return",e.sent);case 13:throw new Error("Unexpected content type");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U="https://jsonplaceholder.typicode.com",M=function(e){return D("".concat(U,"/posts/").concat(e))},A=function(e){return D("".concat(U,"/posts/").concat(e),"DELETE")},R=function(e){return D("".concat(U,"/posts"),"POST",e)},I=function(e,t){return D("".concat(U,"/posts/").concat(e),"PUT",t)},J=(c(60),function(e){var t=e.post,c=e.fetchPosts,n=Object(s.useState)(!1),a=Object(_.a)(n,2),r=a[0],i=a[1],l=function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),e.prev=1,e.next=4,A(t);case 4:return e.next=6,c();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"post__container",children:[Object(j.jsx)(L,{post:t}),Object(j.jsxs)("div",{className:"button__container",children:[Object(j.jsx)(o.b,{to:"/edit-post/".concat(t.id),children:Object(j.jsx)(u.a,{outline:!0,color:"primary",children:"Edit Post"})}),Object(j.jsx)(u.a,{className:"edit-button",outline:!0,color:"danger",onClick:function(){return i(!0)},children:"Delete Post"})]}),Object(j.jsx)(V,{showModal:r,setShowModalCallBack:i,children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"Are you sure?"}),Object(j.jsxs)("div",{className:"modal__buttons",children:[Object(j.jsx)(u.a,{color:"danger",onClick:function(){return l(t.id)},children:"Delete"}),Object(j.jsx)(u.a,{color:"secondary",onClick:function(){return i(!1)},children:"Cancel"})]})]})})]})}),q=c(85),G=c(86),H=c(87),W=(c(61),function(e){var t=e.typeSort,c=e.setTypeSortCallBack;return Object(j.jsxs)(q.a,{className:"posts__sort",children:[Object(j.jsx)(G.a,{className:"posts__sort-label",htmlFor:"sortSelect",children:"Sort by:"}),Object(j.jsx)(H.a,{className:"posts__sort-input",value:t,type:"select",name:"select",id:"sortSelect",onChange:function(e){return c(e.target.value)},children:[{value:"id",text:"Position"},{value:"name",text:"Name"},{value:"city",text:"City"}].map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.text},e.value)}))})]})}),K=(c(62),function(e){var t=e.searchValue,c=e.setSearchValueCallBack;return Object(j.jsx)("div",{className:"post__search-group",children:Object(j.jsxs)("form",{action:"#",children:[Object(j.jsx)("label",{htmlFor:"search-input",className:"post__search-label",children:"Search by name"}),Object(j.jsx)("input",{className:"post__search-input",type:"text",id:"search-input",value:t,placeholder:"Search...",onChange:function(e){return c(e.target.value)}})]})})}),Q=(c(63),function(e){var t=e.typeSort,c=e.setTypeSortCallBack,s=e.searchValue,n=e.setSearchValueCallBack;return Object(j.jsxs)("div",{className:"posts__search-sort-container",children:[Object(j.jsx)(W,{typeSort:t,setTypeSortCallBack:c}),Object(j.jsx)(K,{searchValue:s,setSearchValueCallBack:n})]})}),X=(c(64),function(e){var t=e.usersList,c=e.setUsersListCallBack,s=e.setSearchValueCallBack;return Object(j.jsxs)("div",{className:"posts__fail-container",children:[Object(j.jsx)("div",{className:"posts__search-fail",children:t.length?"Posts not found, change the search query!":"Loading..."}),t.length?Object(j.jsx)(u.a,{className:"posts__back-button",color:"info",onClick:function(){c(t),s("")},children:"Back"}):Object(j.jsx)(j.Fragment,{})]})}),Y=(c(65),function(){var e=Object(s.useState)([]),t=Object(_.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)("id"),r=Object(_.a)(a,2),o=r[0],i=r[1],l=Object(s.useState)(""),u=Object(_.a)(l,2),b=u[0],p=u[1],d=Object(v.b)(),O=Object(s.useCallback)(Object(x.a)(m.a.mark((function e(){var t,c,s,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("".concat(U,"/posts"));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return t=e.t0,e.next=9,D("".concat(U,"/users"));case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1=[];case 12:return c=e.t1,e.next=15,D("https://api.flickr.com".concat("/services/rest/?method=flickr.photos.search","&api_key=636e1481b4f3c446d26b8eb6ebfe7127&tags=cats&per_page=10&format=json&nojsoncallback=1"));case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:s=e.t2,a=s.photos.photo,r=c.map((function(e,c){return Object(f.a)(Object(f.a)({},e),{},{title:t[c].title,body:t[c].body,imageId:a[c].id,owner:a[c].owner,secret:a[c].secret,server:a[c].server})})),n(r),e.next=27;break;case 24:e.prev=24,e.t3=e.catch(0),console.log(e.t3);case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),[]);Object(s.useEffect)((function(){O()}),[O]),Object(s.useEffect)((function(){d({type:"SET_USERS_DATA",payload:c})}),[c]);var g=Object(s.useMemo)((function(){switch(o){case"id":return Object(h.a)(c).sort((function(e,t){return e[o]-t[o]}));case"name":return Object(h.a)(c).sort((function(e,t){return e[o].localeCompare(t[o])}));case"city":return Object(h.a)(c).sort((function(e,t){return e.address[o].localeCompare(t.address[o])}));default:return c}}),[o,c]),y=Object(s.useMemo)((function(){return g.filter((function(e){return e.name.toLowerCase().includes(b)}))}),[b,g]);return Object(j.jsxs)("div",{className:"posts__container",children:[Object(j.jsx)(Q,{typeSort:o,setTypeSortCallBack:i,searchValue:b,setSearchValueCallBack:p}),y.length?y.map((function(e){return Object(j.jsx)(J,{post:e,fetchPosts:O},e.id)})):Object(j.jsx)(X,{usersList:c,setUsersListCallBack:n,setSearchValueCallBack:p})]})}),Z=(c(66),function(){var e=Object(i.h)().id,t=Object(s.useState)({}),c=Object(_.a)(t,2),n=c[0],a=c[1],r=Object(v.c)((function(e){return e}));console.log(r);var o=Object(s.useCallback)(Object(x.a)(m.a.mark((function t(){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:c=t.t0,a(c),t.next=13;break;case 10:t.prev=10,t.t1=t.catch(0),console.log(t.t1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e]);return Object(s.useEffect)((function(){o()}),[o]),Object(j.jsxs)("div",{className:"single-post__container",children:[Object(j.jsx)("div",{className:"single-post__user"}),Object(j.jsx)("div",{className:"single-post__content",children:n.body+n.body+n.body}),Object(j.jsx)(F,{post:r})]})}),$=c(29),ee=(c(67),function(){var e=Object(i.f)(),t=Object(i.g)().pathname,c=Object(i.h)().id,n=Object(s.useState)({title:"",body:""}),a=Object(_.a)(n,2),r=a[0],l=a[1],b=t.includes("edit"),p=Object(s.useCallback)(Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,M(c);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:t=e.t0,l(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),[c,b]);Object(s.useEffect)((function(){p()}),[p]);var d=function(e){var t=e.target.name,c=e.target.value;l((function(e){return Object(f.a)(Object(f.a)({},e),{},Object($.a)({},t,c))}))},h=function(){var t=Object(x.a)(m.a.mark((function t(s){var n,a,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),n=b?I:R,a={title:r.title,body:r.body},o=b?[c,a]:[a],t.prev=4,t.next=7,n.apply(void 0,o);case 7:i=t.sent,e.push("/"),console.log(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"form__container",children:Object(j.jsxs)("form",{onSubmit:h,children:[Object(j.jsxs)("div",{className:"form__control",children:[Object(j.jsx)("label",{htmlFor:"post-title",children:"Title"}),Object(j.jsx)("input",{id:"post-title",type:"text",name:"title",value:r.title,placeholder:"Title...",onChange:d})]}),Object(j.jsxs)("div",{className:"form__control",children:[Object(j.jsx)("label",{htmlFor:"post-body",children:"Body"}),Object(j.jsx)("textarea",{id:"post-body",name:"body",rows:"10",cols:"22",placeholder:"Post...",value:r.body,onChange:d})]}),Object(j.jsxs)("div",{className:"create-post__buttons",children:[Object(j.jsx)(u.a,{type:"submit",color:"info",children:b?"Edit Post":"Create Post"}),Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)(u.a,{type:"submit",color:"danger",children:"Cancel"})})]})]})})}),te=(c(68),c(69),function(){return Object(j.jsxs)(d,{className:"layout__content",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)("meta",{property:"og:image",content:"Helmet application"})}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:Y}),Object(j.jsx)(i.a,{path:"/post/:id",component:Z}),Object(j.jsx)(i.a,{path:"/create-post",component:ee}),Object(j.jsx)(i.a,{path:"/edit-post/:id",component:ee})]})]})}),ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,88)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))},se=c(22),ne=[];var ae=Object(se.combineReducers)({usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_DATA":return t.payload;default:return e}}}),re=c(39),oe=Object(se.createStore)(ae,Object(re.composeWithDevTools)());r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(v.a,{store:oe,children:Object(j.jsx)(te,{})})})}),document.getElementById("root")),ce()}},[[70,1,2]]]);
//# sourceMappingURL=main.24ce427f.chunk.js.map