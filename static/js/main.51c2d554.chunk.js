(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},43:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(26),r=c.n(s),o=c(9),i=(c(32),c(4)),l=c(58),u=(c(33),c(0)),j=function(){return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)(o.b,{to:"/",className:"header__link",children:"Posts Application"}),Object(u.jsxs)(o.b,{to:"/create-post",children:[Object(u.jsx)(l.a,{outline:!0,color:"primary",className:"addPost-button",children:"Add Post"})," "]})]})})},d=(c(43),function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"footer__container",children:"FOOTER"})})}),b=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{className:"container",children:e.children})]}),Object(u.jsx)(d,{})]})},p=c(21),h=c(5),f=c.n(h),O=c(15),x=c(13),m=c(11),v=(c(45),function(e){var t=e.post,c=Object(n.useState)(""),a=Object(m.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var e,t,c=(t=1629015907322,(e=1229015907322)+Math.random()*(t-e));r(new Date(c).toLocaleString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",year:"numeric",month:"short",day:"numeric"}))}),[]),Object(u.jsxs)("div",{className:"post__content",children:[Object(u.jsxs)("div",{className:"post__user",children:[Object(u.jsx)("img",{src:"https://farm66.staticflickr.com/".concat(t.server,"/").concat(t.imageId,"_").concat(t.secret,".jpg"),alt:t.owner}),Object(u.jsx)("span",{className:"post__user-name",children:t.name})]}),Object(u.jsxs)("div",{className:"post__title",children:[Object(u.jsxs)(o.b,{className:"post__link",to:"/post/".concat(t.id),children:[t.id,". ",t.title[0].toUpperCase()+t.title.slice(1),Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"post__read-more",children:"Reed more..."})]},t.id),Object(u.jsxs)("span",{className:"post__date",children:[s,","]}),Object(u.jsx)("span",{className:"post__user-city",children:t.address.city})]})]})}),_=(c(46),function(e){var t=e.children,c=e.showModal,n=e.setShowModalCallBack;return Object(u.jsx)("div",{className:c?"modal active":"modal",onClick:function(){return n(!1)},children:Object(u.jsx)("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()},children:t})})}),k=function(){var e=Object(x.a)(f.a.mark((function e(t){var c,n,a,s,r,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:{},a=o.length>3&&void 0!==o[3]?o[3]:{},s={method:c,headers:Object(O.a)({},a)},"POST"!==c&&"PUT"!==c||(s.body=JSON.stringify(n)),e.next=7,fetch(t,s);case 7:if(r=e.sent,!r.headers.get("Content-Type").includes("application/json")){e.next=13;break}return e.next=12,r.json();case 12:return e.abrupt("return",e.sent);case 13:throw new Error("Unexpected content type");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y="https://jsonplaceholder.typicode.com",g=function(e){return k("".concat(y,"/posts/").concat(e))},N=function(e){return k("".concat(y,"/posts/").concat(e),"DELETE")},C=function(e){return k("".concat(y,"/posts"),"POST",e)},S=function(e,t){return k("".concat(y,"/posts/").concat(e),"PUT",t)},w=(c(47),function(e){var t=e.post,c=e.fetchPosts,a=Object(n.useState)(!1),s=Object(m.a)(a,2),r=s[0],i=s[1],j=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:return e.next=5,c();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"post__container",children:[Object(u.jsx)(v,{post:t}),Object(u.jsxs)("div",{className:"button__container",children:[Object(u.jsx)(o.b,{to:"/edit-post/".concat(t.id),children:Object(u.jsx)(l.a,{outline:!0,color:"primary",children:"Edit Post"})}),Object(u.jsx)(l.a,{className:"edit-button",outline:!0,color:"danger",onClick:function(){return i(!0)},children:"Delete Post"})]}),Object(u.jsx)(_,{showModal:r,setShowModalCallBack:i,children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"Are you sure?"}),Object(u.jsxs)("div",{className:"modal__buttons",children:[Object(u.jsx)(l.a,{color:"danger",onClick:function(){return j(t.id)},children:"Delete"}),Object(u.jsx)(l.a,{color:"secondary",onClick:function(){return i(!1)},children:"Cancel"})]})]})})]})}),P=c(59),B=c(60),T=c(61),E=(c(48),function(e){var t=e.typeSort,c=e.setTypeSortCallBack;return Object(u.jsxs)(P.a,{className:"posts__sort",children:[Object(u.jsx)(B.a,{className:"posts__sort-label",htmlFor:"sortSelect",children:"Sort by:"}),Object(u.jsx)(T.a,{className:"posts__sort-input",value:t,type:"select",name:"select",id:"sortSelect",onChange:function(e){return c(e.target.value)},children:[{value:"id",text:"Position"},{value:"name",text:"Name"},{value:"city",text:"City"}].map((function(e){return Object(u.jsx)("option",{value:e.value,children:e.text},e.value)}))})]})}),F=(c(49),function(e){var t=e.searchValue,c=e.setSearchValueCallBack;return Object(u.jsx)("div",{className:"post__search-group",children:Object(u.jsxs)("form",{action:"#",children:[Object(u.jsx)("label",{htmlFor:"search-input",className:"post__search-label",children:"Search by name"}),Object(u.jsx)("input",{className:"post__search-input",type:"text",id:"search-input",value:t,placeholder:"Search...",onChange:function(e){return c(e.target.value)}})]})})}),L=(c(50),function(e){var t=e.typeSort,c=e.setTypeSortCallBack,n=e.searchValue,a=e.setSearchValueCallBack;return Object(u.jsxs)("div",{className:"posts__search-sort-container",children:[Object(u.jsx)(E,{typeSort:t,setTypeSortCallBack:c}),Object(u.jsx)(F,{searchValue:n,setSearchValueCallBack:a})]})}),V=(c(51),function(e){var t=e.usersList,c=e.setUsersListCallBack,n=e.setSearchValueCallBack;return Object(u.jsxs)("div",{className:"posts__fail-container",children:[Object(u.jsx)("div",{className:"posts__search-fail",children:t.length?"Posts not found, change the search query!":"Loading..."}),t.length?Object(u.jsx)(l.a,{className:"posts__back-button",color:"info",onClick:function(){c(t),n("")},children:"Back"}):Object(u.jsx)(u.Fragment,{})]})}),M=(c(52),function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("id"),r=Object(m.a)(s,2),o=r[0],i=r[1],l=Object(n.useState)(""),j=Object(m.a)(l,2),d=j[0],b=j[1],h=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){var t,c,n,s,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat(y,"/posts"));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return t=e.t0,e.next=9,k("".concat(y,"/users"));case 9:if(e.t1=e.sent,e.t1){e.next=12;break}e.t1=[];case 12:return c=e.t1,e.next=15,k("https://api.flickr.com".concat("/services/rest/?method=flickr.photos.search","&api_key=636e1481b4f3c446d26b8eb6ebfe7127&tags=cats&per_page=10&format=json&nojsoncallback=1"));case 15:if(e.t2=e.sent,e.t2){e.next=18;break}e.t2=[];case 18:n=e.t2,s=n.photos.photo,r=c.map((function(e,c){return Object(O.a)(Object(O.a)({},e),{},{title:t[c].title,body:t[c].body,imageId:s[c].id,owner:s[c].owner,secret:s[c].secret,server:s[c].server})})),a(r),e.next=27;break;case 24:e.prev=24,e.t3=e.catch(0),console.log(e.t3);case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),[]);Object(n.useEffect)((function(){h()}),[h]);var v=Object(n.useMemo)((function(){switch(o){case"id":return Object(p.a)(c).sort((function(e,t){return e[o]-t[o]}));case"name":return Object(p.a)(c).sort((function(e,t){return e[o].localeCompare(t[o])}));case"city":return Object(p.a)(c).sort((function(e,t){return e.address[o].localeCompare(t.address[o])}));default:return c}}),[o,c]),_=Object(n.useMemo)((function(){return v.filter((function(e){return e.name.toLowerCase().includes(d)}))}),[d,v]);return Object(u.jsxs)("div",{className:"posts__container",children:[Object(u.jsx)(L,{typeSort:o,setTypeSortCallBack:i,searchValue:d,setSearchValueCallBack:b}),_.length?_.map((function(e){return Object(u.jsx)(w,{post:e,fetchPosts:h},e.id)})):Object(u.jsx)(V,{usersList:c,setUsersListCallBack:a,setSearchValueCallBack:b})]})}),U=(c(53),function(){var e=Object(i.h)().id,t=Object(n.useState)({}),c=Object(m.a)(t,2),a=c[0],s=c[1],r=Object(n.useCallback)(Object(x.a)(f.a.mark((function t(){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:c=t.t0,s(c),t.next=13;break;case 10:t.prev=10,t.t1=t.catch(0),console.log(t.t1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[e]);return Object(n.useEffect)((function(){r()}),[r]),Object(u.jsxs)("div",{className:"single-post__container",children:[Object(u.jsx)("div",{className:"single-post__user"}),Object(u.jsx)("div",{className:"single-post__content",children:a.body+a.body+a.body})]})}),D=c(20),I=(c(54),function(){var e=Object(i.f)(),t=Object(i.g)().pathname,c=Object(i.h)().id,a=Object(n.useState)({title:"",body:""}),s=Object(m.a)(a,2),r=s[0],j=s[1],d=t.includes("edit"),b=Object(n.useCallback)(Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g(c);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:t=e.t0,j(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),[c,d]);Object(n.useEffect)((function(){b()}),[b]);var p=function(e){var t=e.target.name,c=e.target.value;j((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(D.a)({},t,c))}))},h=function(){var t=Object(x.a)(f.a.mark((function t(n){var a,s,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=d?S:C,s={title:r.title,body:r.body},o=d?[c,s]:[s],t.prev=4,t.next=7,a.apply(void 0,o);case 7:i=t.sent,e.push("/"),console.log(i),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"form__container",children:Object(u.jsxs)("form",{onSubmit:h,children:[Object(u.jsxs)("div",{className:"form__control",children:[Object(u.jsx)("label",{htmlFor:"post-title",children:"Title"}),Object(u.jsx)("input",{id:"post-title",type:"text",name:"title",value:r.title,placeholder:"Title...",onChange:p})]}),Object(u.jsxs)("div",{className:"form__control",children:[Object(u.jsx)("label",{htmlFor:"post-body",children:"Body"}),Object(u.jsx)("textarea",{id:"post-body",name:"body",rows:"10",cols:"22",placeholder:"Post...",value:r.body,onChange:p})]}),Object(u.jsxs)("div",{className:"create-post__buttons",children:[Object(u.jsx)(l.a,{type:"submit",color:"info",children:d?"Edit Post":"Create Post"}),Object(u.jsx)(o.b,{to:"/",children:Object(u.jsx)(l.a,{type:"submit",color:"danger",children:"Cancel"})})]})]})})}),A=(c(55),c(56),function(){return Object(u.jsx)(b,{className:"layout__content",children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",component:M}),Object(u.jsx)(i.a,{path:"/post/:id",component:U}),Object(u.jsx)(i.a,{path:"/create-post",component:I}),Object(u.jsx)(i.a,{path:"/edit-post/:id",component:I})]})})}),J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(A,{})})}),document.getElementById("root")),J()}},[[57,1,2]]]);
//# sourceMappingURL=main.51c2d554.chunk.js.map